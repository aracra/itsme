<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>DB 초기화 (100대 키워드)</title>
</head>
<body>
    <h1>It's me! 100대 질문 데이터 심기</h1>
    <p>기존 'questions' 컬렉션을 삭제한 후 눌러주세요. (users는 안 지워도 됨)</p>
    <button onclick="initDB()" style="padding:20px; font-size:20px; background:#6c5ce7; color:white; border:none; border-radius:10px; cursor:pointer;">질문 100개 장전 (Fire)</button>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, writeBatch } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // [선배님 API Key]
        const firebaseConfig = {
            apiKey: "AIzaSyCZJB72jkS2rMgM213Wu9fEuW4Q4jN1scc",
            authDomain: "it-s-me-96d66.firebaseapp.com",
            projectId: "it-s-me-96d66",
            storageBucket: "it-s-me-96d66.firebasestorage.app",
            messagingSenderId: "950221311348",
            appId: "1:950221311348:web:43c851b6a4d7446966f021",
            measurementId: "G-J3SYEX4SYW"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.initDB = async function() {
            if(!confirm("기존 'questions'를 지우셨나요? 100개의 질문을 새로 심습니다!")) return;

            // 100개 키워드 매핑 데이터
            const questions = [
                // 0. 지성 (Brain) - 16개
                { text: "누가 더 업무 처리가 깔끔한가?", type: 0 },
                { text: "누가 더 엑셀을 잘 다룰 것 같은가?", type: 0 },
                { text: "회의 때 팩트 폭격을 더 잘하는 사람은?", type: 0 },
                { text: "모르는 게 있을 때 검색을 더 잘하는 사람은?", type: 0 },
                { text: "누가 더 논리적으로 말싸움을 잘하나?", type: 0 },
                { text: "여행 계획을 엑셀로 짤 것 같은 사람은?", type: 0 },
                { text: "더치페이 계산을 10원 단위까지 할 사람은?", type: 0 },
                { text: "가성비를 더 철저하게 따지는 사람은?", type: 0 },
                { text: "맞춤법 파괴자를 보면 못 참을 것 같은 사람은?", type: 0 },
                { text: "새로운 툴이나 기술을 더 빨리 익힐 사람은?", type: 0 },
                { text: "복잡한 상황을 더 잘 정리하는 사람은?", type: 0 },
                { text: "위기 상황에서 더 냉정할 것 같은 사람은?", type: 0 },
                { text: "누가 더 결단력이 빠른가?", type: 0 },
                { text: "책상 정리가 더 깔끔할 것 같은 사람은?", type: 0 },
                { text: "문서 작성(PPT)을 더 잘할 것 같은 사람은?", type: 0 },
                { text: "효율성을 더 중요시하는 사람은?", type: 0 },

                // 1. 센스 (Sense) - 16개
                { text: "누가 더 맛집을 잘 찾아낼까?", type: 1 },
                { text: "인생샷을 더 잘 찍어줄 것 같은 사람은?", type: 1 },
                { text: "생일 선물을 더 센스 있게 고를 사람은?", type: 1 },
                { text: "오늘 입은 옷이 더 힙한 사람은?", type: 1 },
                { text: "눈치가 더 백단인 사람은?", type: 1 },
                { text: "최신 유행 밈(Meme)을 더 잘 아는 사람은?", type: 1 },
                { text: "처음 본 사람과도 거리 조절을 잘하는 사람은?", type: 1 },
                { text: "점심 메뉴를 더 잘 결정하는 사람은?", type: 1 },
                { text: "길눈이 더 밝은(인간 네비게이션) 사람은?", type: 1 },
                { text: "고장 난 기계를 툭 쳐서 고칠 것 같은 사람은?", type: 1 },
                { text: "드라마 클리셰를 더 잘 맞힐 것 같은 사람은?", type: 1 },
                { text: "치고 빠지는 타이밍을 더 잘 아는 사람은?", type: 1 },
                { text: "유행하는 신문물을 더 빨리 사볼 것 같은 사람은?", type: 1 },
                { text: "상황 파악이 더 빠른 사람은?", type: 1 },
                { text: "똥촉보다는 감이 더 좋은 사람은?", type: 1 },
                { text: "은근히 선을 잘 지키는 사람은?", type: 1 },

                // 2. 멘탈 (Mental/Trust) - 16개 (구 의리)
                { text: "내 비밀을 무덤까지 가져갈 사람은?", type: 2 },
                { text: "약속 시간을 더 잘 지키는 사람은?", type: 2 },
                { text: "집안의 K-장녀/장남 같은 책임감이 있는 사람은?", type: 2 },
                { text: "부모님 효도 관광 가이드를 더 잘할 사람은?", type: 2 },
                { text: "어떤 비난에도 멘탈이 흔들리지 않을 사람은?", type: 2 },
                { text: "철벽 방어를 더 잘할 것 같은 사람은?", type: 2 },
                { text: "자신의 신념(불매 등)을 끝까지 지킬 사람은?", type: 2 },
                { text: "남의 뒷담화에 휘둘리지 않을 사람은?", type: 2 },
                { text: "같이 일할 때 더 든든한 사람은?", type: 2 },
                { text: "입이 더 무거운 사람은?", type: 2 },
                { text: "한번 뱉은 말은 꼭 지킬 것 같은 사람은?", type: 2 },
                { text: "힘든 일도 묵묵히 버텨낼 것 같은 사람은?", type: 2 },
                { text: "남을 위해 기꺼이 방패막이가 되어줄 사람은?", type: 2 },
                { text: "낭비 없이 알뜰살뜰 잘 살 것 같은 사람은?", type: 2 },
                { text: "선발대처럼 먼저 나서서 고생할 줄 아는 사람은?", type: 2 },
                { text: "새벽에 전화해도 받아줄 것 같은 의리파는?", type: 2 },

                // 3. 인성 (Heart) - 16개
                { text: "내 고민을 더 잘 들어줄 것 같은 사람은?", type: 3 },
                { text: "조카나 동물을 더 예뻐할 것 같은 사람은?", type: 3 },
                { text: "그냥 같이 있으면 기분이 좋아지는 사람은?", type: 3 },
                { text: "공감 능력이 더 뛰어난 사람은?", type: 3 },
                { text: "계산 없이 베풀 줄 아는 사람은?", type: 3 },
                { text: "누가 더 호감형인가?", type: 3 },
                { text: "밥을 더 잘 사줄 것 같은 사람은?", type: 3 },
                { text: "애정 어린 잔소리를 더 잘할 것 같은 사람은?", type: 3 },
                { text: "부탁을 거절 못 할 것 같은(호구?) 사람은?", type: 3 },
                { text: "감정 쓰레기통이 되어도 받아줄 것 같은 천사는?", type: 3 },
                { text: "멘탈이 순두부처럼 여릴 것 같은 사람은?", type: 3 },
                { text: "싸움을 싫어하는 평화주의자는?", type: 3 },
                { text: "팀의 힐러(치유캐) 역할을 할 사람은?", type: 3 },
                { text: "식물을 더 잘 키울 것 같은 사람은?", type: 3 },
                { text: "길가던 고양이와 대화할 것 같은 사람은?", type: 3 },
                { text: "뭐든지 '좋아!'라고 말해줄 예스맨은?", type: 3 },

                // 4. 텐션 (Vibe) - 16개
                { text: "술자리에서 끝까지 살아남을 사람은?", type: 4 },
                { text: "노래방에서 마이크를 놓지 않을 사람은?", type: 4 },
                { text: "단톡방 드립력이 더 좋은 사람은?", type: 4 },
                { text: "어색한 분위기를 더 잘 띄우는 사람은?", type: 4 },
                { text: "텐션을 멱살 잡고 끌어올릴 리더는?", type: 4 },
                { text: "불금에 놀고 주말에 회복이 더 빠른 사람은?", type: 4 },
                { text: "예상치 못한 순발력이 더 좋은 사람은?", type: 4 },
                { text: "자기 흑역사도 웃음으로 승화시키는 사람은?", type: 4 },
                { text: "남의 일에도 관심 많은 오지랖퍼는?", type: 4 },
                { text: "리액션이 더 혜자인 사람은?", type: 4 },
                { text: "사무실에서도 둠칫둠칫 리듬 탈 것 같은 사람은?", type: 4 },
                { text: "알고 있는 잡지식(TMI)이 더 많은 사람은?", type: 4 },
                { text: "잡담을 해도 영양가 있게 하는 사람은?", type: 4 },
                { text: "다이어트한다고 말만 하고 먹고 있을 사람은?", type: 4 },
                { text: "흥이 더 많은 사람은?", type: 4 },
                { text: "어딜 가나 인싸가 될 것 같은 사람은?", type: 4 },

                // 5. 광기 (Unique) - 20개 (취향/모순/빌런)
                { text: "민트초코를 더 좋아할 것 같은 사람은?", type: 5 },
                { text: "얼어 죽어도 아이스 아메리카노인 사람은?", type: 5 },
                { text: "탕수육 소스를 부어버릴 것 같은(부먹) 사람은?", type: 5 },
                { text: "매운 음식을 더 잘 먹을(맵부심) 사람은?", type: 5 },
                { text: "술 한 잔에 빨개질 것 같은(알쓰) 사람은?", type: 5 },
                { text: "배불러도 디저트 배는 따로 있을 사람은?", type: 5 },
                { text: "게으른데 결과물은 완벽한 변태는?", type: 5 },
                { text: "관심은 받고 싶은데 부끄러운(소심 관종) 사람은?", type: 5 },
                { text: "메뉴 고르는 데 하루 종일 걸릴(결정장애) 사람은?", type: 5 },
                { text: "가끔 난해한 패션을 선보이는 사람은?", type: 5 },
                { text: "지름신이 오면 통장을 바칠 것 같은 사람은?", type: 5 },
                { text: "벼락치기의 신은?", type: 5 },
                { text: "알람을 10개 맞춰도 못 일어날 사람은?", type: 5 },
                { text: "배터리가 없으면 손을 떨 것 같은 사람은?", type: 5 },
                { text: "SNS는 안 하는데 남들 소식은 다 아는 사람은?", type: 5 },
                { text: "단톡방에서 읽고 대답 안 하는(유령) 사람은?", type: 5 },
                { text: "카톡 읽씹을 더 잘할 것 같은 사람은?", type: 5 },
                { text: "지도를 보고도 반대로 갈 길치는?", type: 5 },
                { text: "기계만 만지면 고장 내는 마이너스의 손은?", type: 5 },
                { text: "커피 없으면 좀비가 되는 사람은?", type: 5 }
            ];

            try {
                // 100개 한방에 넣기 (Promise.all 활용)
                const promises = questions.map(q => addDoc(collection(db, "questions"), q));
                await Promise.all(promises);
                
                alert(`✅ 질문 ${questions.length}개 장전 완료!\n이제 평가 화면에서 이 질문들이 랜덤으로 뜹니다.`);

            } catch (e) {
                console.error(e);
                alert("에러 발생! (콘솔 확인)");
            }
        }
    </script>
</body>
</html>